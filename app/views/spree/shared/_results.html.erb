<div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">

<h3 class="headline">Search Results: <%= params[:keywords] %></h3>

<p>Use the filters to the left to fine tune your results.</p>

<% if @products.empty? %>
    <h6 class="search-results-title"><%= Spree.t(:no_products_found) %></h6>
<% else %>

    <%
       paginated_products = @searcher.retrieve_products if params.key?(:keywords)
       paginated_products ||= products
    %>
        <div class="display_results_stats">

          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 displaying">
            Displaying 1-10 of <%= paginated_products.total_count%>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 results-per">
            Results per page:  <%= link_to '10', params.merge({:per_page => 10}) %>  |  <%= link_to '20', params.merge({:per_page => 20}) %>  |  <%= link_to '30', params.merge({:per_page => 30}) %>  |  <%= link_to '40', params.merge({:per_page => 40}) %>
          </div>
        </div>

    <% if paginated_products.respond_to?(:num_pages) %>
        <%= paginate paginated_products %>
    <% end %>


        <section class="results row">
          <ul>
            <% @products.each do |product| %>
                <% url = product_url(product, :taxon_id => @taxon.try(:id)) %>
            <li class="col-lg-3 col-md-4 col-sm-4 col-xs-3">
              <%= link_to small_image(product, :itemprop => "image"), url, :itemprop => 'url' %>
              <div class="item-label">
                <%= truncate(product.name, :length => 50) %>
              </div>
            </li>
            <% end %>
          </ul>
        </section>

      <% if paginated_products.respond_to?(:num_pages) %>
          <%= paginate paginated_products %>
      <% end %>

<% end %>

</div> <!-- row -->